<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="cn.com.sure.syscode.dao.SysCodeDAO">  

	<insert id="insert" parameterType="cn.com.sure.syscode.entry.SysCode">
		insert into km_sys_code(
			para_code,
			para_value,
			para_type,
			is_valid,
			notes
		)values(
			#{paraCode},
			#{paraValue},
			#{paraType.id},
			#{isValid},
			#{notes}
		)
	</insert>
	
	<select id="selectAll" parameterType="cn.com.sure.syscode.entry.SysCode" resultType="cn.com.sure.syscode.entry.SysCode">
		select 
			id,
			para_code as paraCode,
			para_value as paraValue,
			para_type as paraType,
			is_valid as isValid,
			notes
		 from km_sys_code
	</select>
	
	<select id="findById" parameterType="cn.com.sure.syscode.entry.SysCode" resultType="cn.com.sure.syscode.entry.SysCode">
		select
			para_code as paraCode,
			para_value as paraValue,
			para_type as paraType,
			is_valid as isValid,
			notes
		from
			km_sys_code
		where
			id=#{id}
	</select>
	
	<select id="findByName" parameterType="cn.com.sure.syscode.entry.SysCode" resultType="cn.com.sure.syscode.entry.SysCode">
		select 
			id,
			para_code as paraCode,
			para_value as paraValue,
			para_type as paraType,
			is_valid as isValid,
			notes
		from km_sys_code
			where para_code=#{paraCode}
	</select>
	
	<update id="updateValid" parameterType="cn.com.sure.syscode.entry.SysCode">
		update km_sys_code set is_valid=#{isValid} where id=#{id}
	</update>
	
	<update id="update" parameterType="cn.com.sure.syscode.entry.SysCode">
	 update km_sys_code 
		set 
		 	para_code=#{paraCode},
		 	para_value=#{paraValue},
		 	para_type=#{paraType.id},
		 	is_valid=#{isValid},
		 	notes=#{notes}
	 where id=#{id}
	</update>
	
	<delete id="delete" parameterType="long">
		delete from km_sys_code where id=#{id}
	</delete>
	
</mapper>